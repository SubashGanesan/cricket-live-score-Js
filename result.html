<!DOCTYPE html>
<html lang="en">
  <head>
    <title>RESULTS</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="row offset-xl-4 col-xl-6">
        <div class="card" style="width: 18rem;">
          <div class="card-body">
            <h5 class="card-title">RESULT</h5>
            <!-- <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6> -->
            <p class="card-text">Here is the result</p>
            <!-- <table class="table table-bordered">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">First</th>
                  <th scope="col">Last</th>
                  <th scope="col">Handle</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td>Mark</td>
                  <td>Otto</td>
                  <td>@mdo</td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td>Jacob</td>
                  <td>Thornton</td>
                  <td>@fat</td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td colspan="2">Larry the Bird</td>
                  <td>@twitter</td>
                </tr>
              </tbody>
            </table> -->
            <button onclick="report()" class="btn btn-primary">
              view result
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      var teama = JSON.parse(window.localStorage.getItem("firstteam"));
      var teamb = JSON.parse(window.localStorage.getItem("secondteam"));
      var report = ()=> {
      var player=[];
      var player1;
      var mom=[]
      var teamone=parseInt(teama.team1Score);
      var teamtwo=parseInt(teamb.team2Score);
        if (teamone>teamtwo){
          player=(teama.team1playersScore);
          mom.push(player[0].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[1].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[2].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[3].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[4].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[5].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[6].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[7].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[8].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[9].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          console.log(mom);
          var mx1 = Math.max(...mom)
          var ind = (mom).indexOf(mx1)
          alert( `team1 won the match and the man of the match is :  Player${ind +1}`  );

        }else if(teamtwo>teamone){
          player=(teamb.team2playersScore);
          mom.push(player[0].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[1].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[2].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[3].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[4].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[5].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[6].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[7].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[8].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          mom.push(player[9].flat().reduce((total, currentvalue) => {
            return total + currentvalue;
          }, 0));
          console.log(mom);
          var mx2 = Math.max(...mom)
          var ind = (mom).indexOf(mx2)
          alert( `team1 won the match and the man of the match is :  Player ${ind +1}`  );
        }else if(teamone==teamtwo){
          alert("match drawn")
        }  
       
        // console.log(teama, teamb);
      };
    </script>
  </body>
</html>
